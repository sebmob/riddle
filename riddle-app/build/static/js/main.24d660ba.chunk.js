(this["webpackJsonpriddle-app"]=this["webpackJsonpriddle-app"]||[]).push([[0],{16:function(e,t,n){e.exports=n.p+"static/media/arrow.7b94cf70.svg"},22:function(e,t,n){e.exports=n(42)},27:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(21),o=n.n(c),l=(n(27),n(9)),i=n(8),s=n.n(i),u=n(14),d=n(5),m=n(13);n(18),n(20);m.apps.length||m.initializeApp({apiKey:"AIzaSyCSt8mtMV6HeOAY907MerjTwI0LPQ4bQJE",authDomain:"riddle-d7331.firebaseapp.com",databaseURL:"https://riddle-d7331.firebaseio.com",projectId:"riddle-d7331",storageBucket:"riddle-d7331.appspot.com",messagingSenderId:"89205362373",appId:"1:89205362373:web:0d232603e933e01fc6aaac",measurementId:"G-60SMYF966M"});n(37),n(38);var f=n(16),p=n.n(f);n(39);var b=function(e){var t=e.firstClue,n=e.useFirstClue,a=e.count,c=e.riddles,o=e.secondClue,l=e.useSecondClue;return e.isSolved,r.a.createElement("div",{className:"div--clue--container"},r.a.createElement("button",{id:"firstClue",className:"button--clues",onClick:t?l:n},"Get Clue"),t?r.a.createElement("p",{className:"p--firstClue"},c[a].firstClue):r.a.createElement("p",null),o?r.a.createElement("p",{className:"p--secondClue"},c[a].secondClue):r.a.createElement("p",null))};var v=function(e){var t=e.riddles,n=e.handleChange,a=e.handleSubmit,c=e.incrementCount,o=e.count,l=e.decrementCount,i=e.isSolved,s=e.firstClue,u=e.useFirstClue,d=e.useSecondClue,m=e.secondClue,f=e.wrongAnswer;return r.a.createElement("div",{className:0!==i.lenght&&i.includes(t[o].id)?"div--riddle--container--solved":"div--riddle--container"},0!==t.length?r.a.createElement("div",null,r.a.createElement("h3",{className:"h4--question"},t[o].question),f?r.a.createElement("p",{className:"p--wrongAnswer"},"Almost, try again!"):r.a.createElement("p",null),0!==i.lenght&&i.includes(t[o].id)?r.a.createElement("p",{className:"p--completed"},"You got it! ",t[o].answer):r.a.createElement("form",{className:"form--container",action:"input",onSubmit:a},r.a.createElement("input",{className:"input--answer",type:"text",onChange:n}),r.a.createElement("input",{className:"input--answer--submit",type:"submit",value:"Solve"})),i.includes(t[o].id)?r.a.createElement("div",null):r.a.createElement(b,{count:o,riddles:t,firstClue:s,useFirstClue:u,useSecondClue:d,secondClue:m,isSolved:i}),r.a.createElement("div",{className:"div--button--container"},r.a.createElement("img",{className:"img--left--arrow",onClick:l,src:p.a,alt:"arrow-icon"}),r.a.createElement("img",{className:"img--right--arrow",onClick:c,src:p.a,alt:"arrow-icon"}))):r.a.createElement("div",null))};n(40);var h=function(e){var t=e.handleChange,n=e.handleSubmitLogin,a=e.userValidation;return r.a.createElement("div",{className:"div--login--container"},r.a.createElement("form",{className:"form--container",action:"input",onSubmit:n},r.a.createElement("label",{htmlFor:""},"Login with your username, if you haven't played before please choose a username."),r.a.createElement("input",{className:"input--login",type:"text",placeholder:"Username",onChange:t}),r.a.createElement("input",{className:"input--login--submit",type:"submit",value:"Login"}),a?r.a.createElement("p",null,"Username needs to be atleast 3 characters long"):r.a.createElement("p",null)))};n(41);var E=function(e){var t=e.leaderboard;return r.a.createElement("div",{className:"div--table--container"},r.a.createElement("table",{className:"table--leaderboard"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Points")),t.sort((function(e,t){return t.points-e.points})).map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.user),r.a.createElement("td",null,e.points))})))))};var C=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),i=Object(d.a)(o,2),f=i[0],p=i[1],b=Object(a.useState)(0),C=Object(d.a)(b,2),g=C[0],w=C[1],j=Object(a.useState)(0),O=Object(d.a)(j,2),S=O[0],N=O[1],y=Object(a.useState)([]),L=Object(d.a)(y,2),k=L[0],I=L[1],M=Object(a.useState)(!1),x=Object(d.a)(M,2),F=x[0],A=x[1],T=Object(a.useState)(""),B=Object(d.a)(T,2),U=B[0],V=B[1],G=Object(a.useState)(!1),H=Object(d.a)(G,2),q=H[0],D=H[1],J=Object(a.useState)(!1),P=Object(d.a)(J,2),R=P[0],Y=P[1],z=Object(a.useState)(!1),Q=Object(d.a)(z,2),W=Q[0],K=Q[1],$=Object(a.useState)(!1),X=Object(d.a)($,2),Z=X[0],_=X[1],ee=Object(a.useState)([]),te=Object(d.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)(!1),ce=Object(d.a)(re,2),oe=ce[0],le=ce[1],ie=function(e){return p(e.target.value)},se=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),t.target.reset(),n=[],m.firestore().collection("users").get().then((function(e){e.docs.map((function(e){return n.push(e.data().username)})),f.length<3?D(!0):n.includes(f)?(A(!0),V(f),ue(),de()):(m.firestore().collection("users").doc(f).set({username:f,solved:[],points:0}).then((function(){return ue})),A(!0),V(f))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.firestore().collection("users"),e.next=3,t.doc(f).get().then((function(e){e.data().solved.length>0?e.data().solved.map((function(e){return I((function(t){return[].concat(Object(l.a)(t),[e])}))})):I([])}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.firestore().collection("users").doc(f),e.next=3,t.get().then((function(e){return N(e.data().points)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){f.toLowerCase().includes(n[g].answer.toLowerCase())&&W?(N(S+1),m.firestore().collection("users").doc(U).update({points:S+1,solved:m.firestore.FieldValue.arrayUnion(n[g].id)}),I((function(e){return[].concat(Object(l.a)(e),[n[g].id])}))):f.toLowerCase().includes(n[g].answer.toLowerCase())&&R?(N(S+3),m.firestore().collection("users").doc(U).update({points:S+3,solved:m.firestore.FieldValue.arrayUnion(n[g].id)}),I((function(e){return[].concat(Object(l.a)(e),[n[g].id])}))):f.toLowerCase().includes(n[g].answer.toLowerCase())?(N(S+5),m.firestore().collection("users").doc(U).update({points:S+5,solved:m.firestore.FieldValue.arrayUnion(n[g].id)}),I((function(e){return[].concat(Object(l.a)(e),[n[g].id])}))):(_(!0),setTimeout((function(){return _(!1)}),2500))};return Object(a.useEffect)((function(){return m.firestore().collection("users").onSnapshot((function(e){ae([]),e.docs.map((function(e){return ae((function(t){return[].concat(Object(l.a)(t),[{user:e.data().username,points:e.data().points}])}))}))})),function(){}}),[]),Object(a.useEffect)((function(){return m.firestore().collection("riddles").get().then((function(e){e.docs.map((function(e){return c((function(t){return[].concat(Object(l.a)(t),[{id:e.id,question:e.data().question,answer:e.data().answer,firstClue:e.data().firstClue,secondClue:e.data().secondClue}])}))}))})),function(){}}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"header"},r.a.createElement("h3",{className:"h3--title"},"Riddle Me This..."),F?r.a.createElement("h3",{className:"h3--points"},"Points: ",S):r.a.createElement("div",null),r.a.createElement("div",{className:"div--leaderboard--container"},oe?r.a.createElement("button",{className:"button--leaderboard",onClick:function(){le(!1)}},"Back To Riddles"):r.a.createElement("div",null),F?r.a.createElement("button",{className:"button--leaderboard",onClick:function(){le(!0)}},"Leaderboard"):r.a.createElement("div",null))),oe?r.a.createElement(E,{leaderboard:ne}):r.a.createElement("div",null),F&&!oe?r.a.createElement(v,{riddles:n,handleChange:ie,handleSubmit:function(e){e.preventDefault(),e.target.reset(),me()},incrementCount:function(){var e=document.getElementById("firstClue");g!==n.length-1&&(w(g+1),Y(!1),K(!1),null!==e&&void 0!==e&&(e.innerHTML="Get Clue"))},decrementCount:function(){var e=document.getElementById("firstClue");0!==g&&(w(g-1),Y(!1),K(!1),null!==e&&void 0!==e&&(e.innerHTML="Get Clue"))},count:g,isSolved:k,firstClue:R,useFirstClue:function(){var e=document.getElementById("firstClue");Y(!0),e.innerHTML=e.innerHTML="Get Second Clue"},useSecondClue:function(){K(!0)},secondClue:W,wrongAnswer:Z}):r.a.createElement("div",null),F?r.a.createElement("div",null):r.a.createElement(h,{handleChange:ie,handleSubmitLogin:se,userValidation:q}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.24d660ba.chunk.js.map